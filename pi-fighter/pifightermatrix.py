
#SPI LED Matrix stuff -
import max7219.led as led
from max7219.font import proportional, SINCLAIR_FONT, TINY_FONT, CP437_FONT
import time


def Setup():
	global device 
	
	device = led.matrix()

	# Let the user know about to start
	device.orientation(180) # SPI is mounted upside down for cabling reasons.

def Intro():

	device.brightness(15)
	device.show_message("Pi-Fighter", font=proportional(CP437_FONT), delay = 0.05)

	# Countdown 	
	for i in range(4,-1,-1):
		Str = ("{}".format(i))
		device.show_message(Str, font=proportional(CP437_FONT), delay = 0.05)
		time.sleep(.4)



def DrawPattern(PatternId, Brightness):


	if (Brightness >15):
		Brightness = 15
		
	Patterns =[
	[[0,0,0,0,0,0,0,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]],

	[[0,0,0,0,0,0,1,1],
	[0,0,0,0,0,0,1,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]], 

	[[0,0,0,0,0,1,1,1],
	[0,0,0,0,0,1,1,1],
	[0,0,0,0,0,1,1,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]], 

	[[0,0,0,0,1,1,1,1],
	[0,0,0,0,1,1,1,1],
	[0,0,0,0,1,1,1,1],
	[0,0,0,0,1,1,1,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]], 

	[[0,0,0,1,1,1,1,1],
	[0,0,0,1,1,1,1,1],
	[0,0,0,1,1,1,1,1],
	[0,0,0,1,1,1,1,1],
	[0,0,0,1,1,1,1,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]], 

	[[0,0,1,1,1,1,1,1],
	[0,0,1,1,1,1,1,1],
	[0,0,1,1,1,1,1,1],
	[0,0,1,1,1,1,1,1],
	[0,0,1,1,1,1,1,1],
	[0,0,1,1,1,1,1,1],
	[0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0]], 

	[[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,1,1,1,1,1,1,1],
	[0,0,0,0,0,0,0,0]], 

	[[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1],
	[1,1,1,1,1,1,1,1]]
	
	]

	device.brightness(Brightness)
	for i in range (0,8):
		for j in range (0,8):
			device.pixel(i, j, Patterns[PatternId][i][j], redraw=False)
	device.flush()
